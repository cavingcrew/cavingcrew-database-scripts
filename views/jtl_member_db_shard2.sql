CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`%` SQL SECURITY DEFINER VIEW `jtl_member_db_shard2` AS select `u`.`ID` AS `id`,`u`.`user_login` AS `user_login`,`um_nickname`.`meta_value` AS `nickname`,`um_first_name`.`meta_value` AS `first_name`,`um_gear_walking_equipment_weekend`.`meta_value` AS `gear-walking-equipment-weekend`,`um__order_count`.`meta_value` AS `_order_count`,`um__last_order`.`meta_value` AS `_last_order`,`um_paying_customer`.`meta_value` AS `paying_customer`,`um_last_update`.`meta_value` AS `last_update`,`um_wc_last_active`.`meta_value` AS `wc_last_active`,`um_billing_phone`.`meta_value` AS `billing_phone`,`um_admin_will_you_not_flake_please`.`meta_value` AS `admin-will-you-not-flake-please`,`um_shipping_address_1`.`meta_value` AS `shipping_address_1`,`um_shipping_address_2`.`meta_value` AS `shipping_address_2`,`um_shipping_city`.`meta_value` AS `shipping_city`,`um_shipping_postcode`.`meta_value` AS `shipping_postcode`,`um_shipping_country`.`meta_value` AS `shipping_country`,`um_caving_srt_or_horizontal_preference`.`meta_value` AS `caving-srt-or-horizontal-preference`,`um_admin_club_constitution_acceptance`.`meta_value` AS `admin-club-constitution-acceptance`,`um__legacy_info_bca_member`.`meta_value` AS `_legacy_info_bca_member`,`um__legacy_info_bca_club`.`meta_value` AS `_legacy_info_bca_club`,`um_admin_personal_year_of_birth`.`meta_value` AS `admin-personal-year-of-birth`,`um_admin_personal_pronouns`.`meta_value` AS `admin-personal-pronouns`,`um_admin_car_registration`.`meta_value` AS `admin-car-registration`,`um_admin_health_shoulder`.`meta_value` AS `admin-health-shoulder`,`um_admin_health_asthma`.`meta_value` AS `admin-health-asthma`,`um_admin_health_missing_dose`.`meta_value` AS `admin-health-missing-dose`,`um_admin_other_club_name`.`meta_value` AS `admin-other-club-name`,`um_admin_bca_number`.`meta_value` AS `admin-bca-number`,`um_misc_any_other_requests`.`meta_value` AS `misc-any-other-requests`,`um_cc_member`.`meta_value` AS `cc_member`,`um_skills_leading_coaching`.`meta_value` AS `skills-leading-coaching`,`um_membership_managed`.`meta_value` AS `membership_managed`,`um_membership_renewal_date`.`meta_value` AS `membership_renewal_date`,`um_caving_srt_happy_to_second_or_lead`.`meta_value` AS `caving-srt-happy-to-second-or-lead`,`um_membership_joining_date`.`meta_value` AS `membership_joining_date`,`um_membership_cancellation_date`.`meta_value` AS `membership_cancellation_date`,`um_customer_id`.`meta_value` AS `customer_id`,`um_user_email`.`meta_value` AS `user_email` from (((((((((((((((((((((((((((((((((((((((`jtl_users` `u` left join `jtl_usermeta` `um_nickname` on(`u`.`ID` = `um_nickname`.`user_id` and `um_nickname`.`meta_key` = 'nickname')) left join `jtl_usermeta` `um_first_name` on(`u`.`ID` = `um_first_name`.`user_id` and `um_first_name`.`meta_key` = 'first_name')) left join `jtl_usermeta` `um_last_name` on(`u`.`ID` = `um_last_name`.`user_id` and `um_last_name`.`meta_key` = 'last_name')) left join `jtl_usermeta` `um_billing_first_name` on(`u`.`ID` = `um_billing_first_name`.`user_id` and `um_billing_first_name`.`meta_key` = 'billing_first_name')) left join `jtl_usermeta` `um_gear_walking_equipment_weekend` on(`u`.`ID` = `um_gear_walking_equipment_weekend`.`user_id` and `um_gear_walking_equipment_weekend`.`meta_key` = 'gear-walking-equipment-weekend')) left join `jtl_usermeta` `um__order_count` on(`u`.`ID` = `um__order_count`.`user_id` and `um__order_count`.`meta_key` = '_order_count')) left join `jtl_usermeta` `um__last_order` on(`u`.`ID` = `um__last_order`.`user_id` and `um__last_order`.`meta_key` = '_last_order')) left join `jtl_usermeta` `um_paying_customer` on(`u`.`ID` = `um_paying_customer`.`user_id` and `um_paying_customer`.`meta_key` = 'paying_customer')) left join `jtl_usermeta` `um_last_update` on(`u`.`ID` = `um_last_update`.`user_id` and `um_last_update`.`meta_key` = 'last_update')) left join `jtl_usermeta` `um_wc_last_active` on(`u`.`ID` = `um_wc_last_active`.`user_id` and `um_wc_last_active`.`meta_key` = 'wc_last_active')) left join `jtl_usermeta` `um_billing_phone` on(`u`.`ID` = `um_billing_phone`.`user_id` and `um_billing_phone`.`meta_key` = 'billing_phone')) left join `jtl_usermeta` `um_admin_will_you_not_flake_please` on(`u`.`ID` = `um_admin_will_you_not_flake_please`.`user_id` and `um_admin_will_you_not_flake_please`.`meta_key` = 'admin-will-you-not-flake-please')) left join `jtl_usermeta` `um_shipping_address_1` on(`u`.`ID` = `um_shipping_address_1`.`user_id` and `um_shipping_address_1`.`meta_key` = 'shipping_address_1')) left join `jtl_usermeta` `um_shipping_address_2` on(`u`.`ID` = `um_shipping_address_2`.`user_id` and `um_shipping_address_2`.`meta_key` = 'shipping_address_2')) left join `jtl_usermeta` `um_shipping_city` on(`u`.`ID` = `um_shipping_city`.`user_id` and `um_shipping_city`.`meta_key` = 'shipping_city')) left join `jtl_usermeta` `um_shipping_postcode` on(`u`.`ID` = `um_shipping_postcode`.`user_id` and `um_shipping_postcode`.`meta_key` = 'shipping_postcode')) left join `jtl_usermeta` `um_shipping_country` on(`u`.`ID` = `um_shipping_country`.`user_id` and `um_shipping_country`.`meta_key` = 'shipping_country')) left join `jtl_usermeta` `um_caving_srt_or_horizontal_preference` on(`u`.`ID` = `um_caving_srt_or_horizontal_preference`.`user_id` and `um_caving_srt_or_horizontal_preference`.`meta_key` = 'caving-srt-or-horizontal-preference')) left join `jtl_usermeta` `um_admin_club_constitution_acceptance` on(`u`.`ID` = `um_admin_club_constitution_acceptance`.`user_id` and `um_admin_club_constitution_acceptance`.`meta_key` = 'admin-club-constitution-acceptance')) left join `jtl_usermeta` `um__legacy_info_bca_member` on(`u`.`ID` = `um__legacy_info_bca_member`.`user_id` and `um__legacy_info_bca_member`.`meta_key` = '_legacy_info_bca_member')) left join `jtl_usermeta` `um__legacy_info_bca_club` on(`u`.`ID` = `um__legacy_info_bca_club`.`user_id` and `um__legacy_info_bca_club`.`meta_key` = '_legacy_info_bca_club')) left join `jtl_usermeta` `um_admin_personal_year_of_birth` on(`u`.`ID` = `um_admin_personal_year_of_birth`.`user_id` and `um_admin_personal_year_of_birth`.`meta_key` = 'admin-personal-year-of-birth')) left join `jtl_usermeta` `um_admin_personal_pronouns` on(`u`.`ID` = `um_admin_personal_pronouns`.`user_id` and `um_admin_personal_pronouns`.`meta_key` = 'admin-personal-pronouns')) left join `jtl_usermeta` `um_admin_car_registration` on(`u`.`ID` = `um_admin_car_registration`.`user_id` and `um_admin_car_registration`.`meta_key` = 'admin-car-registration')) left join `jtl_usermeta` `um_admin_health_shoulder` on(`u`.`ID` = `um_admin_health_shoulder`.`user_id` and `um_admin_health_shoulder`.`meta_key` = 'admin-health-shoulder')) left join `jtl_usermeta` `um_admin_health_asthma` on(`u`.`ID` = `um_admin_health_asthma`.`user_id` and `um_admin_health_asthma`.`meta_key` = 'admin-health-asthma')) left join `jtl_usermeta` `um_admin_health_missing_dose` on(`u`.`ID` = `um_admin_health_missing_dose`.`user_id` and `um_admin_health_missing_dose`.`meta_key` = 'admin-health-missing-dose')) left join `jtl_usermeta` `um_admin_other_club_name` on(`u`.`ID` = `um_admin_other_club_name`.`user_id` and `um_admin_other_club_name`.`meta_key` = 'admin-other-club-name')) left join `jtl_usermeta` `um_admin_bca_number` on(`u`.`ID` = `um_admin_bca_number`.`user_id` and `um_admin_bca_number`.`meta_key` = 'admin-bca-number')) left join `jtl_usermeta` `um_misc_any_other_requests` on(`u`.`ID` = `um_misc_any_other_requests`.`user_id` and `um_misc_any_other_requests`.`meta_key` = 'misc-any-other-requests')) left join `jtl_usermeta` `um_cc_member` on(`u`.`ID` = `um_cc_member`.`user_id` and `um_cc_member`.`meta_key` = 'cc_member')) left join `jtl_usermeta` `um_skills_leading_coaching` on(`u`.`ID` = `um_skills_leading_coaching`.`user_id` and `um_skills_leading_coaching`.`meta_key` = 'skills-leading-coaching')) left join `jtl_usermeta` `um_membership_managed` on(`u`.`ID` = `um_membership_managed`.`user_id` and `um_membership_managed`.`meta_key` = 'membership_managed')) left join `jtl_usermeta` `um_membership_renewal_date` on(`u`.`ID` = `um_membership_renewal_date`.`user_id` and `um_membership_renewal_date`.`meta_key` = 'membership_renewal_date')) left join `jtl_usermeta` `um_caving_srt_happy_to_second_or_lead` on(`u`.`ID` = `um_caving_srt_happy_to_second_or_lead`.`user_id` and `um_caving_srt_happy_to_second_or_lead`.`meta_key` = 'caving-srt-happy-to-second-or-lead')) left join `jtl_usermeta` `um_membership_joining_date` on(`u`.`ID` = `um_membership_joining_date`.`user_id` and `um_membership_joining_date`.`meta_key` = 'membership_joining_date')) left join `jtl_usermeta` `um_membership_cancellation_date` on(`u`.`ID` = `um_membership_cancellation_date`.`user_id` and `um_membership_cancellation_date`.`meta_key` = 'membership_cancellation_date')) left join `jtl_usermeta` `um_customer_id` on(`u`.`ID` = `um_customer_id`.`user_id` and `um_customer_id`.`meta_key` = 'customer_id')) left join `jtl_usermeta` `um_user_email` on(`u`.`ID` = `um_user_email`.`user_id` and `um_user_email`.`meta_key` = 'user_email'))